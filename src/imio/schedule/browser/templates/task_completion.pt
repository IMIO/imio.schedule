<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="imio.schedule">

<head>
</head>

<body>
<metal:main fill-slot="main">
<metal:main_macro define-macro="main">
    <metal:body define-macro="body_macro">

    <h1 tal:content='python: view.task.get_container().Title()'></h1>
    <table class="listing task_status_table"
           tal:define="state_status view/get_state_status;
                   state_done python: state_status and state_status[0] in state_status[1] or None;
                   state_todo python: state_status and state_status[0] not in state_status[1] or None">
        <tal:display define="conditions_status view/get_done_conditions"
                    condition="python: conditions_status or state_done">
            <th i18n:translate="" colspan="2">Done</th>
            <tr tal:condition="conditions_status">
                <td>
                    <div metal:use-macro="here/@@taskmacros/conditions_status_macro" />
                </td>
            </tr>
            <tr tal:condition="state_done">
                <td>
                    <div metal:use-macro="here/@@taskmacros/state_status_macro" />
                </td>
            </tr>
        </tal:display>
        <tal:display define="conditions_status view/get_conditions_todo"
                    condition="python: conditions_status or state_todo">
            <th i18n:translate="" colspan="2">To do</th>
            <tr tal:condition="conditions_status">
                <td>
                    <div metal:use-macro="here/@@taskmacros/conditions_status_macro" />
                </td>
            </tr>
            <tr tal:condition="state_todo">
                <td>
                    <div metal:use-macro="here/@@taskmacros/state_status_macro" />
                </td>
            </tr>
        </tal:display>
    </table>

</metal:body>
</metal:main_macro>
</metal:main>
</body>
</html>
